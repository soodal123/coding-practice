-- 문제 링크 : [문제 출처 또는 ID를 여기에 입력하세요. 예: 프로그래머스 SQL 고득점 Kit]
-- 간단한 문제 설명 : FISH_INFO 테이블에 있는 모든 물고기 중 가장 큰 물고기의 길이를 'cm' 단위를 붙여 조회합니다. 결과는 소수점 둘째 자리까지 표시해야 합니다.
-- 테이블 스키마 :
--   - 테이블명 : FISH_INFO
--   - 컬럼명 및 타입 (추정) :
--     - ID : INT 또는 BIGINT (물고기 ID)
--     - FISH_TYPE : INT (어종 타입)
--     - LENGTH : DECIMAL(10, 2) 또는 FLOAT (물고기 길이)
--     - TIME : DATE 또는 DATETIME (잡힌 시각)
--     - (기타 컬럼이 있을 수 있음)
-- 해결 방법 설명 :
--   1. 쿼리 작성 단계 :
--      - FISH_INFO 테이블에서 LENGTH 컬럼의 최댓값을 찾습니다 (`MAX(LENGTH)`).
--      - 찾은 최댓값을 `FORMAT` 함수를 사용하여 소수점 둘째 자리까지 표시되는 문자열로 변환합니다. (예: 15.5 -> "15.50", 15 -> "15.00")
--      - `CONCAT` 함수를 사용하여 위에서 변환된 길이 문자열 뒤에 'cm' 문자열을 이어 붙입니다.
--      - 최종 결과 컬럼의 이름을 `MAX_LENGTH`로 지정합니다 (`AS MAX_LENGTH`).
--   2. 사용한 SQL 문법 및 함수 설명 :
--      - SELECT : 조회할 열(column)을 지정합니다.
--      - FROM : 데이터를 조회할 테이블을 지정합니다.
--      - MAX(컬럼명) : 지정된 컬럼에서 최댓값을 반환하는 집계 함수입니다.
--      - FORMAT(숫자, 소수점자릿수) : 숫자를 '#,###,###.##' 형식의 문자열로 포맷하며, 지정된 소수점 자릿수까지 표시합니다. (MySQL 특정 함수)
--      - CONCAT(문자열1, 문자열2, ...) : 여러 문자열 인자를 순서대로 이어 붙여 하나의 문자열로 반환합니다.
--      - AS : 컬럼이나 테이블에 별칭(alias)을 부여합니다.
--   3. 쿼리 최적화 방법 (필요시) :
--      - 인덱스 사용 : FISH_INFO 테이블의 LENGTH 컬럼에 인덱스가 생성되어 있다면, MAX(LENGTH) 연산 시 테이블 전체를 스캔하지 않고 인덱스를 통해 빠르게 최댓값을 찾을 수 있어 성능이 향상됩니다.
-- 시간/공간 복잡도 :
--   - 시간 복잡도 : LENGTH 컬럼에 인덱스가 없는 경우, 테이블 전체를 스캔해야 하므로 O(N) (N은 FISH_INFO 테이블의 총 행 수). 인덱스가 있는 경우, 인덱스 스캔을 통해 더 빠르게 (예: O(log N) 또는 특정 인덱스 타입에서는 O(1)) 최댓값을 찾을 수 있습니다.
--   - 공간 복잡도 : 결과셋이 단일 값(스칼라 값)이므로 결과 저장을 위한 공간 복잡도는 O(1)로 매우 작습니다. 연산 중 임시 공간 사용은 미미합니다.

-- 최종 쿼리:
SELECT CONCAT(FORMAT(MAX(LENGTH), 2), 'cm') AS MAX_LENGTH
FROM FISH_INFO;

-- ----------------------------------------------------------------------
-- 아래는 코드 작성 과정에서의 생각 흐름 및 이전 시도 (참고용)
-- ----------------------------------------------------------------------
/*
-- 전체 데이터의 모습 확인하기 (초기 탐색)
SELECT *
FROM FISH_INFO
LIMIT 10;

-- FISH_INFO 테이블에서 가장 큰 물고기 길이 찾기 (기본 아이디어)
SELECT MAX(LENGTH)
FROM FISH_INFO;

-- 최댓값에 'cm' 붙이기 시도 1 (ROUND 사용) - 소수점 자리 표시 문제 발생
-- ROUND는 수학적 반올림 후 불필요한 0을 제거함 (예: 15.50 -> 15.5)
SELECT CONCAT(ROUND(MAX(LENGTH), 2), 'cm') AS MAX_LENGTH
FROM FISH_INFO;

-- 최댓값에 'cm' 붙이기 시도 2 (ROUND + 형변환 시도) - 여전히 소수점 자리 표시 문제
-- 곱하기 1.0은 타입 캐스팅 효과를 노린 것이나 ROUND의 동작은 동일
SELECT CONCAT(ROUND(MAX(LENGTH) * 1.0, 2), 'cm') AS MAX_LENGTH
FROM FISH_INFO;

-- 최종 해결: FORMAT 함수 사용
-- FORMAT 함수는 숫자를 지정된 소수점 자리를 포함하는 '문자열'로 변환해주므로,
-- 15.5 -> "15.50", 15 -> "15.00" 과 같이 원하는 형식으로 만들 수 있음.
-- 그 후 CONCAT으로 'cm'를 붙임.
*/